enum EnrollmentStatus {
    active
    completed
    cancelled
}

model Enrollment {
    id           String           @id @default(cuid())
    userId       String
    courseId     String
    status       EnrollmentStatus @default(active)
    enrolledAt   DateTime         @default(now())
    completedAt  DateTime?
    lastAccessAt DateTime?
    createdAt    DateTime         @default(now())
    updatedAt    DateTime         @updatedAt

    // Relations
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
    course Course @relation(fields: [courseId], references: [id], onDelete: Cascade)

    @@unique([userId, courseId])
    @@index([userId])
    @@index([courseId])
    @@index([status])
}

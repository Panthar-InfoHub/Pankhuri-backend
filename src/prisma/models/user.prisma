enum Gender {
  male
  female
  other
  prefer_not_to_say
}

enum UserStatus {
  active
  inactive
  suspended
}

enum UserRole {
  user
  admin
}

model User {
  id                 String     @id @default(uuid())
  email              String?    @unique
  phone              String?    @unique
  displayName        String?
  profileImage       String?
  dateOfBirth        DateTime?
  gender             Gender?
  countryCode        String?
  languagePreference String?    @default("en")
  isEmailVerified    Boolean    @default(false)
  isPhoneVerified    Boolean    @default(false)
  status             UserStatus @default(active)
  role               UserRole   @default(user)
  hasUsedTrial       Boolean    @default(false)
  profession         String?
  metadata           Json? // Store additional info like referral source, hobbies, etc.
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt

  // Relations
  trainerProfile Trainer?             @relation("TrainerProfile")
  sessions       Session[]
  lessonProgress UserLessonProgress[]
  courseProgress UserCourseProgress[]
  reviews        CourseReview[]
  subscriptions  UserSubscription[]
  payments       Payment[]
  certificates   Certificate[]

  @@index([email])
  @@index([phone])
}
